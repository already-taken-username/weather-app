{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["setColor","output","div","document","getElementById","setValue","input","createElement","setAttribute","appendChild","remove","undefined","value","documentElement","style","setProperty","querySelector","WeatherInformationBarButton","title","this","props","onChange","action","type","name","defaultChecked","checked","className","icon","React","Component","WeatherInformationBar","Object","keys","categories","map","key","use","date","selected","WeatherInformation","state","class","data","round","selectedTab","selectTab","bind","e","target","setState","time","Date","toLocaleTimeString","slice","category","hide","weather","timestamp","dt","order","Math","src","alt","main","description","toLocaleShortTimeString","dt_txt","ProgressBar","countdown","sunrise","getTimezoneOffset","timezone","sunset","tick","timer","setInterval","clearInterval","getTime","parseFloat","timeToPercent","toFixed","getHours","getMinutes","getSeconds","timeToSunrise","timeToSunset","id","width","toLocaleDayString","unixTimestamp","getDay","CurrentWeatherStatus","rotate","transform","unit","WeatherApp","String","cod","sys","country","onClick","toggleSection","openLocalization","substr","temp","wind","speed","deg","pressure","humidity","clouds","all","visibility","rain","h3","snow","downfall","error","message","OneDayForecast","avgLow","avgHigh","avgLowNumber","avgHighNumber","city","now","replace","averageTemperature","ForecastApp","selectedForecast","selectDailyForecast","outpur","list","normalizeDate","number","length","getFullYear","getMonth","getDate","PendingApp","display","gridAutoFlow","gridGap","justifyContent","alignItems","padding","backgroundColor","LoadingApp","LocalizationListElement","element","properties","AppLocalization","found","history","pending","typeLocalization","searchLocalization","url","api","fetch","then","response","json","coord","push","catch","console","log","open","disabled","autoFocus","callByLocalization","callByCityId","App","units","lang","position","lat","lon","useLocalization","openLocalizationSection","interval","active","forecast","color","toggleLocalizationSection","fetchForecast","fetchWeather","refresh","Promise","resolve","reject","query","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","alert","fetchData","index","volume","groupByDate","array","reduce","objectsByKeyValue","obj","split","concat","href","rel","Boolean","window","location","hostname","match","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.526d8669.chunk.js","sourcesContent":["import React from 'react';\r\nimport './style.css';\r\n\r\nfunction setColor(output){\r\n\t\r\n\tconst div = document.getElementById(\"hueRange\");\r\n\tvar setValue = false;\r\n\r\n\tif( typeof output === 'boolean' ){\r\n\t\tif( output && !div ){\r\n\t\t\tvar input = document.createElement(\"input\");\r\n\t\t\tinput.setAttribute(\"type\", \"range\");\r\n\t\t\tinput.setAttribute(\"min\", \"0\");\r\n\t\t\tinput.setAttribute(\"max\", \"360\");\r\n\t\t\tinput.setAttribute(\"value\", \"198\");\r\n\t\t\tinput.setAttribute(\"oninput\", \"document.documentElement.style.setProperty('--weather-hue', this.value)\");\r\n\t\t\tinput.setAttribute(\"id\", \"hueRange\");\r\n\t\t\tdocument.getElementById(\"dayProgress\").appendChild(input);\r\n\t\t\tsetValue = 198;\r\n\t\t}else if( !output && div ){\r\n\t\t\tdiv.remove();\r\n\t\t}\r\n\t}else if( typeof output === 'number' && !div ){\r\n\t\tsetValue = output;\r\n\t}else if( output === undefined && div ){\r\n\t\tsetValue = document.getElementById(\"hueRange\").value;\r\n\t}\r\n\r\n\tif( setValue ){\r\n\t\tdocument.documentElement.style.setProperty('--weather-hue', setValue);\r\n\t\tdocument.querySelector(\"meta[name=theme-color]\").setAttribute('content', 'hsl(' + setValue + ',20%,17%)');\r\n\t}\r\n\r\n}\r\n\r\nclass WeatherInformationBarButton extends React.Component{\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<label title={this.props.title}>\r\n\t\t\t\t<input onChange={this.props.action} type=\"radio\" name={this.props.name} value={this.props.value} defaultChecked={ this.props.checked ? true : null } />\r\n\t\t\t\t<i className={this.props.icon}></i>\r\n\t\t\t</label>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass WeatherInformationBar extends React.Component{\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className='bar'>\r\n\t\t\t\t{ Object.keys(this.props.categories).map(key => \r\n\t\t\t\t\t( this.props.categories[key].use !== false ?\r\n\t\t\t\t\t\t<div key={ this.props.categories[key].value }>\r\n\t\t\t\t\t\t\t<WeatherInformationBarButton \r\n\t\t\t\t\t\t\t\taction={this.props.action}\r\n\t\t\t\t\t\t\t\ttitle={this.props.categories[key].title} \r\n\t\t\t\t\t\t\t\tvalue={this.props.categories[key].value} \r\n\t\t\t\t\t\t\t\tname={this.props.date} \r\n\t\t\t\t\t\t\t\ticon={this.props.categories[key].icon} \r\n\t\t\t\t\t\t\t\tchecked={ this.props.selected === this.props.categories[key].value ? true : false }/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t: null )\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass WeatherInformation extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcategories: {\r\n\t\t\t\t'temperature': {\r\n\t\t\t\t\tclass: 'celsius',\r\n\t\t\t\t\tdata: ['main','temp'],\r\n\t\t\t\t\tround: true,\r\n\t\t\t\t\ttitle: 'Temperatura',\r\n\t\t\t\t\tvalue: 'temperature',\r\n\t\t\t\t\ticon: 'icon-temperature-0' \r\n\t\t\t\t},\r\n\t\t\t\t'pressure': {\r\n\t\t\t\t\tclass: 'pascal',\r\n\t\t\t\t\tdata: ['main','pressure'],\r\n\t\t\t\t\ttitle: 'Ciśnienie',\r\n\t\t\t\t\tvalue: 'pressure',\r\n\t\t\t\t\ticon: 'icon-pressure-1'\r\n\t\t\t\t},\r\n\t\t\t\t'cloud': {\r\n\t\t\t\t\tclass: 'percent',\r\n\t\t\t\t\tdata: ['clouds','all'],\r\n\t\t\t\t\ttitle: 'Zachmurzenie',\r\n\t\t\t\t\tvalue: 'cloud',\r\n\t\t\t\t\ticon: 'icon-cloud'\r\n\t\t\t\t},\r\n\t\t\t\t'rainfall': {\r\n\t\t\t\t\tclass: 'millimeter',\r\n\t\t\t\t\tdata: ['downfall', '3h'],\r\n\t\t\t\t\ttitle: 'Opady',\r\n\t\t\t\t\tvalue: 'rainfall',\r\n\t\t\t\t\ticon: 'icon-rain-2'\r\n\t\t\t\t},\r\n\t\t\t\t'wind': {\r\n\t\t\t\t\tclass: 'metersperseconds',\r\n\t\t\t\t\tdata: ['wind','speed'],\r\n\t\t\t\t\ttitle: 'Wiatr',\r\n\t\t\t\t\tvalue: 'wind',\r\n\t\t\t\t\ticon: 'icon-wind' \r\n\t\t\t\t},\r\n\t\t\t\t'humidity': {\r\n\t\t\t\t\tclass: 'percent',\r\n\t\t\t\t\tdata: ['main','humidity'],\r\n\t\t\t\t\ttitle: 'Wilgotność',\r\n\t\t\t\t\tvalue: 'humidity',\r\n\t\t\t\t\ticon: 'icon-humidity-outlined'\r\n\t\t\t\t},\r\n\t\t\t\t'test': {\r\n\t\t\t\t\tclass:'testClass',\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t\ttitle:'Test',\r\n\t\t\t\t\tvalue:'test',\r\n\t\t\t\t\ticon:'icon-localization-1',\r\n\t\t\t\t\tuse: false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselectedTab: 'temperature'\r\n\t\t};\r\n\t\tthis.selectTab = this.selectTab.bind(this);\r\n\t}\r\n\tselectTab(e){\r\n\t\tconst value = e.target.value;\r\n\t\tthis.setState((state, props)=>{\r\n\t\t\treturn {\r\n\t\t\t\tselectedTab: value\r\n\t\t\t};\r\n\t\t})\r\n\t}\r\n\ttoLocaleShortTimeString(time){\r\n\t\tconst date = new Date(time);\r\n\t\treturn date.toLocaleTimeString().slice(0,-3)\r\n\t}\r\n\trender(){\r\n\t\tconst category = this.state.categories[this.state.selectedTab];\r\n\t\tconst data = this.props.data;\r\n\t\treturn(\r\n\t\t\t<div className={ this.props.hide ? 'hideElement' : null }>\r\n\t\t\t\t<WeatherInformationBar categories={this.state.categories} date={data.date} action={this.selectTab} selected={this.state.selectedTab} />\r\n\t\t\t\t<div className='timeline'>\r\n\t\t\t\t\t{ data.weather.map( timestamp =>\r\n\t\t\t\t\t\t<div key={ timestamp.dt } style={{order: timestamp.dt}}>\r\n\t\t\t\t\t\t\t{ timestamp[category.data[0]][category.data[1]] ? \r\n\t\t\t\t\t\t\t\t<p className={'unit ' + category.class}>\r\n\t\t\t\t\t\t\t\t\t{ category.round ? Math.round( timestamp[category.data[0]][category.data[1]] ) : timestamp[category.data[0]][category.data[1]] }\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t<p>-</p> }\r\n\t\t\t\t\t\t\t<i>\r\n\t\t\t\t\t\t\t\t<img src={'img/weather/' + timestamp.weather[0].icon + '.png'} alt={timestamp.weather[0].main + ' icon - ' + timestamp.weather[0].description} />\r\n\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t<b>{ this.toLocaleShortTimeString( timestamp.dt_txt ) }</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass ProgressBar extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tconst date = new Date();\r\n\t\tthis.state = {\r\n\t\t\tcountdown: 60,\r\n\t\t\tdate: new Date(),\r\n\t\t\tsunrise: new Date( ( this.props.sunrise * 1000 ) - date.getTimezoneOffset() + this.props.timezone ),\r\n\t\t\tsunset: new Date( ( this.props.sunset * 1000 ) - date.getTimezoneOffset() + this.props.timezone ),\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.tick();\r\n\t\tconst timer = setInterval(\r\n\t\t\t() => this.tick(),\r\n\t\t\t\t1000\r\n\t\t\t);\r\n\t\tthis.setState({\r\n\t\t\ttimer: timer\r\n\t\t})\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\tclearInterval(this.state.timer);\r\n\t}\r\n\ttick(){\r\n\t\tconst date = new Date();\r\n\t\tconst timezone = ( this.props.timezone + ( date.getTimezoneOffset() * 60 ) ) *  1000;\r\n\t\tthis.setState({\r\n\t\t\tdate: new Date( date.getTime() + timezone ),\r\n\t\t\tsunrise: new Date( ( this.props.sunrise * 1000 ) + timezone ),\r\n\t\t\tsunset: new Date( ( this.props.sunset * 1000 ) + timezone ),\r\n\t\t});\r\n\t\tsetColor( parseFloat( ( ( this.timeToPercent('date') / 100 ) * 360 ).toFixed(3) ) );\r\n\t}\r\n\ttimeToPercent(name){\r\n\t\treturn ((((((this.state[name].getHours() * 60) + this.state[name].getMinutes()) * 60) + this.state[name].getSeconds()) / 86400 ) * 100).toFixed(3)\r\n\t}\r\n\trender(){\r\n\t\tconst timeToSunrise = ((this.state.sunrise.getHours() * 60 + this.state.sunrise.getMinutes()) - (this.state.date.getHours() * 60 + this.state.date.getMinutes()));\r\n\t\tconst timeToSunset = (this.state.sunset.getHours() * 60 + this.state.sunset.getMinutes()) - (this.state.date.getHours() * 60 + this.state.date.getMinutes());\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<h3 title=\"wschód słońca\">\r\n\t\t\t\t\t<i className=\"icon-horizon-sunrise\"></i>\r\n\t\t\t\t\t{this.state.sunrise.toLocaleTimeString().slice(0, -3)}\r\n\t\t\t\t\t{ timeToSunrise <= this.state.countdown && timeToSunrise > 0 ?\r\n\t\t\t\t\t\t<span>&bull;<b className='unit minutes'>{timeToSunrise}</b></span> : null }\r\n\t\t\t\t</h3>\r\n\t\t\t\t<h3 title=\"aktualny czas\">\r\n\t\t\t\t\t{this.state.date.toLocaleTimeString().slice(0, -3)}\r\n\t\t\t\t</h3>\r\n\t\t\t\t<h3 title=\"zachód słońca\">\r\n\t\t\t\t\t{ timeToSunset <= this.state.countdown && timeToSunset > 0 ?\r\n\t\t\t\t\t\t<span><b className='unit minutes'>{timeToSunset}</b>&bull;</span> : null }\r\n\t\t\t\t\t{this.state.sunset.toLocaleTimeString().slice(0, -3)}\r\n\t\t\t\t\t<i className=\"icon-horizon-sunset\"></i>\r\n\t\t\t\t</h3>\r\n\t\t\t\t<div className='progress' id='dayProgress'>\r\n\t\t\t\t\t<div style={{width: this.timeToPercent('sunrise') + '%'}}></div>\r\n\t\t\t\t\t<div style={{width: this.timeToPercent('sunset') + '%'}}></div>\r\n\t\t\t\t\t<div style={{width: this.timeToPercent('date') + '%'}}></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction toLocaleDayString(unixTimestamp){\r\n\tconst date = new Date(unixTimestamp);\r\n\tswitch( date.getDay() ){\r\n\t\tcase 1:\r\n\t\t\treturn 'Poniedziałek'\r\n\t\tcase 2:\r\n\t\t\treturn 'Wtorek'\r\n\t\tcase 3:\r\n\t\t\treturn 'Środa'\r\n\t\tcase 4:\r\n\t\t\treturn 'Czwartek'\r\n\t\tcase 5:\r\n\t\t\treturn 'Piątek'\r\n\t\tcase 6:\r\n\t\t\treturn 'Sobota'\r\n\t\tdefault:\r\n\t\t\treturn 'Niedziela'\r\n\t}\r\n}\r\n\r\nclass CurrentWeatherStatus extends React.Component{\r\n\trender(){\r\n\t\tif( this.props.value !== undefined ){\r\n\t\t\treturn(\r\n\t\t\t\t<h3>\r\n\t\t\t\t\t{ this.props.rotate ? \r\n\t\t\t\t\t\t<i className={this.props.icon} style={ {transform: 'rotate(' + this.props.rotate + 'deg)'} } ></i> \r\n\t\t\t\t\t\t: \r\n\t\t\t\t\t\t<i className={this.props.icon}></i> \r\n\t\t\t\t\t}\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{this.props.name}:\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<span className={'unit ' + this.props.unit}>\r\n\t\t\t\t\t\t{this.props.value}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</h3>\r\n\t\t\t)\r\n\t\t}else{\r\n\t\t\treturn(null)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass WeatherApp extends React.Component{\r\n\trender(){\r\n\t\tconst data = this.props.data;\r\n\t\tif( String(data.cod) === '200' ){\r\n\t\t\tconst weather = this.props.data;\r\n\t\t\tconst date = new Date( weather.dt * 1000 );\r\n\t\t\tconst downfall = function(){\r\n\t\t\t\tconst value = ( weather.rain ? ( weather.rain.h3 ? weather.rain.h3 : 0 ) : 0 ) + ( weather.snow ? ( weather.snow.h3 ? weather.snow.h3 : 0 ) : 0 );\r\n\t\t\t\treturn ( value > 0 ? value : undefined )\r\n\t\t\t}\r\n\t\t\treturn(\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<article>\r\n\t\t\t\t\t\t<h2>{weather.name}, {weather.sys.country}</h2>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<input type=\"button\" onClick={this.props.toggleSection} />\r\n\t\t\t\t\t\t\t<div className='button' title={this.props.openLocalization ? 'zamknij opcje lokalizacji' : 'zmień lokalizacje'}>\r\n\t\t\t\t\t\t\t\t<i className='icon-localization-2'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t<span title={toLocaleDayString(weather.dt * 1000)}>{toLocaleDayString(weather.dt * 1000).substr(0,3)}</span> <span title=\"czas pobrania danych\">{date.toLocaleTimeString().slice(0,-3)}</span>\r\n\t\t\t\t\t\t\t, <span title={weather.weather[0].description}>{weather.weather[0].main}</span>\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<h1 className='unit celsius'>{Math.round(weather.main.temp)}</h1>\r\n\t\t\t\t\t\t<i>\r\n\t\t\t\t\t\t\t<img src={'img/weather/' + weather.weather[0].icon + '.png'} alt={weather.weather[0].main + ' icon - ' + weather.weather[0].description} />\r\n\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t<ProgressBar sunrise={weather.sys.sunrise} sunset={weather.sys.sunset} timezone={weather.timezone} />\r\n\t\t\t\t\t</article>\r\n\t\t\t\t\t<article>\r\n\t\t\t\t\t\t<CurrentWeatherStatus icon='icon-arrow-outlined' name='wiatr' value={weather.wind.speed} rotate={weather.wind.deg} unit='metersperseconds' />\r\n\t\t\t\t\t\t<CurrentWeatherStatus icon='icon-pressure-1' name='ciśnienie' value={weather.main.pressure} unit='pascal' />\r\n\t\t\t\t\t\t<CurrentWeatherStatus icon='icon-humidity-outlined' name='wIlGoTnOśĆ' value={weather.main.humidity} unit='percent' />\r\n\t\t\t\t\t\t<CurrentWeatherStatus icon='icon-cloud' name='ZACHMURZENIE' value={weather.clouds.all} unit='percent' />\r\n\t\t\t\t\t\t<CurrentWeatherStatus icon='icon-visibility' name='WiDoCzNoŚć' value={weather.visibility} unit='meters' />\r\n\t\t\t\t\t\t<CurrentWeatherStatus icon='icon-rain-2' name='opady' value={downfall()} unit='millimeter' />\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</section>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<section>\r\n\t\t\t\t<article>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<input type=\"button\" onClick={this.props.toggleSection} />\r\n\t\t\t\t\t\t<div className='button' title={this.props.openLocalization ? 'zamknij opcje lokalizacji' : 'zmień lokalizacje'}>\r\n\t\t\t\t\t\t\t<i className='icon-localization-2'></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</article>\r\n\t\t\t\t<PendingApp error={ data.message ? data.message : null } />\r\n\t\t\t</section>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass OneDayForecast extends React.Component{\r\n\taverageTemperature(){\r\n\t\tconst data = this.props.data;\r\n\r\n\t\tvar avg = 0,\r\n\t\t\tavgLow = 0,\r\n\t\t\tavgHigh = 0;\r\n\t\tvar avgLowNumber = 0,\r\n\t\t\tavgHighNumber = 0;\r\n\t\tvar weightLow = 0.1,\r\n\t\t\tweightHigh = 0.9;\r\n\t\tvar sunrise = new Date(data.city.sunrise * 1000),\r\n\t\t\tsunset = new Date(data.city.sunset * 1000);\r\n\r\n\t\tdata.weather.map(tick => {\r\n\t\t\tvar now = new Date(tick.dt * 1000);\r\n\t\t\tif( sunrise.toLocaleTimeString().replace(/\\:/g,'') < now.toLocaleTimeString().replace(/\\:/g,'') && now.toLocaleTimeString().replace(/\\:/g,'') < sunset.toLocaleTimeString().replace(/\\:/g,'') ){\r\n\t\t\t\tavgHigh += tick.main.temp;\r\n\t\t\t\tavgHighNumber++;\r\n\t\t\t}else{\r\n\t\t\t\tavgLowNumber++;\r\n\t\t\t\tavgLow += tick.main.temp;\r\n\t\t\t}\r\n\t\t})\r\n\t\tavg = ( avgHigh * weightHigh + avgLow * weightLow ) / ( (avgLowNumber * weightLow) + (avgHighNumber * weightHigh) );\r\n\t\treturn avg\r\n\t}\r\n\trender(){\r\n\t\tconst data = this.props.data;\r\n\t\treturn(\r\n\t\t\t<li key={data.date} style={{order: data.date}}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<input type='radio' onClick={this.props.action} name='dailyForecast' value={data.date} checked={ this.props.selected === data.date } />\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t<span>{toLocaleDayString(data.weather[0].dt * 1000)}</span>\r\n\t\t\t\t\t\t<span className='unit celsius'>{Math.round(this.averageTemperature())}</span>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t</label>\r\n\t\t\t\t<WeatherInformation data={ data } hide={ this.props.selected !== data.date } />\r\n\t\t\t</li>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass ForecastApp extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tselectedForecast: ''\r\n\t\t}\r\n\t\tthis.selectDailyForecast = this.selectDailyForecast.bind(this);\r\n\t}\r\n\tselectDailyForecast(e){\r\n\t\tvar outpur = ( this.state.selectedForecast === e.target.value ? null : e.target.value );\r\n\t\tthis.setState((state, props)=>{\r\n\t\t\treturn {\r\n\t\t\t\tselectedForecast: outpur\r\n\t\t\t};\r\n\t\t})\r\n\t}\r\n\trender(){\r\n\t\tconst data = this.props.data;\r\n\t\tif( String(data.cod) === '200' ){\r\n\t\t\tconst weather = this.props.data.list;\r\n\t\t\tconst keys = Object.keys( weather );\r\n\t\t\tconst date = function(){\r\n\t\t\t\tvar date = new Date();\r\n\t\t\t\tvar normalizeDate = function(number){\r\n\t\t\t\t\tnumber = String(number);\r\n\t\t\t\t\tvar numberLength = number.length;\r\n\t\t\t\t\treturn( numberLength >= 2 ? number : '0' + number ) \r\n\t\t\t\t}\r\n\t\t\t\tconst today = date.getFullYear() + normalizeDate( date.getMonth() + 1 ) + normalizeDate( date.getDate() );\r\n\t\t\t\treturn today\r\n\t\t\t}\r\n\t\t\treturn(\r\n\t\t\t\t<section>\r\n\t\t\t\t\t{ weather[date()] ?\r\n\t\t\t\t\t\t<article>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<WeatherInformation data={{ date: date(), weather: weather[date()] }} />\r\n\t\t\t\t\t\t</article>\r\n\t\t\t\t\t: <article></article> }\r\n\t\t\t\t\t<article>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{ keys.map( key =>\r\n\t\t\t\t\t\t\t\t( date() !== key ? \r\n\t\t\t\t\t\t\t\t\t<OneDayForecast data={{ city: this.props.data.city, weather: weather[key], date: key}} key={key} action={this.selectDailyForecast} selected={this.state.selectedForecast} />\r\n\t\t\t\t\t\t\t\t: null )\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</section>\r\n\t\t\t)\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t\t\t\t<PendingApp error={ data.message ? data.message : null } />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass PendingApp extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tstyle: {\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t\tgridAutoFlow: 'column',\r\n\t\t\t\tgridGap: '24px',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tpadding: '24px',\r\n\t\t\t\tbackgroundColor: 'var(--weather-color-1)'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div style={ this.state.style }>\r\n\t\t\t\t<div className='pending'>\r\n\t\t\t\t\t{ this.props.error ? '!' : null }\r\n\t\t\t\t</div>\r\n\t\t\t\t{ this.props.error ? <h3>{this.props.error}</h3> : false }\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass LoadingApp extends React.Component{\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className='loading'>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass LocalizationListElement extends React.Component{\r\n\trender(){\r\n\t\tconst element = this.props.properties;\r\n\t\treturn(\r\n\t\t\t<label key={element.id}>\r\n\t\t\t\t<input type='button' value={element.id} onClick={element.action} />\r\n\t\t\t\t<li className='button'>\r\n\t\t\t\t\t<span>{element.name}</span>\r\n\t\t\t\t\t<span>{element.country}</span>\r\n\t\t\t\t</li>\r\n\t\t\t</label>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass AppLocalization extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tinput: '',\r\n\t\t\tfound: {},\r\n\t\t\thistory: [],\r\n\t\t\tpending: false\r\n\t\t}\r\n\t\tthis.typeLocalization = this.typeLocalization.bind(this);\r\n\t\tthis.searchLocalization = this.searchLocalization.bind(this);\r\n\t}\r\n\ttypeLocalization(e){\r\n\t\tconst value = e.target.value;\r\n\t\tthis.setState((state,props)=>{\r\n\t\t\treturn{\r\n\t\t\t\tinput: value\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tsearchLocalization(){\r\n\t\tconst url = this.props.data.url + 'weather?q=' + this.state.input + '&appid=' + this.props.data.api;\r\n\t\tthis.setState((state,props)=>{\r\n\t\t\treturn{\r\n\t\t\t\tpending: true\r\n\t\t\t}\r\n\t\t}, ()=>{\r\n\t\t\tfetch(url)\r\n\t\t\t\t.then(response => response.json())\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tif( String(data.cod) === '200' ){\r\n\t\t\t\t\t\tconst city = {\r\n\t\t\t\t\t\t\tname: data.name,\r\n\t\t\t\t\t\t\tcountry: data.sys.country,\r\n\t\t\t\t\t\t\tcoord: data.coord,\r\n\t\t\t\t\t\t\tid: data.id,\r\n\t\t\t\t\t\t\tcod: 200\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar history = [];\r\n\t\t\t\t\t\thistory.push( city );\r\n\t\t\t\t\t\tthis.state.history.map((element)=>{\r\n\t\t\t\t\t\t\tif( element.id !== city.id ){\r\n\t\t\t\t\t\t\t\thistory.push( element );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.setState((state,props)=>{\r\n\t\t\t\t\t\t\treturn{\r\n\t\t\t\t\t\t\t\tfound: city,\r\n\t\t\t\t\t\t\t\thistory: history,\r\n\t\t\t\t\t\t\t\tpending: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.setState((state,props)=>{\r\n\t\t\t\t\t\t\treturn{\r\n\t\t\t\t\t\t\t\tfound: { \r\n\t\t\t\t\t\t\t\t\tcod: 404,\r\n\t\t\t\t\t\t\t\t\tinput: this.state.input\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tpending: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} )\r\n\t\t\t\t.catch(error => { console.log(error) })\r\n\t\t})\r\n\t}\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<section id='localization' className={ !this.props.open ? 'hideElement' : null }>\r\n\t\t\t\t<article>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<i className='icon-search'></i>\r\n\t\t\t\t\t\t<input type='text' onChange={this.typeLocalization} disabled={this.state.pending} autoFocus />\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<input type='button' onClick={this.props.callByLocalization} disabled={this.state.pending} />\r\n\t\t\t\t\t\t<div className='button' title='użyj autolokalizacji'>\r\n\t\t\t\t\t\t\t<i className='icon-localization-1'></i>    \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</article>\r\n\t\t\t\t<article>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<p className={ this.state.input.length < 3 ? 'hideElement' : null }>\r\n\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t<input type='submit' onClick={this.searchLocalization} disabled={this.state.pending} />\r\n\t\t\t\t\t\t\t\t<li className='button'>\r\n\t\t\t\t\t\t\t\t\t<i className='icon-search'></i> Szukaj\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t{ this.state.pending ? <li> <LoadingApp /> </li> : \r\n\t\t\t\t\t\t\t( this.state.found.cod === 200 ?\r\n\t\t\t\t\t\t\t\t<LocalizationListElement \r\n\t\t\t\t\t\t\t\t\tproperties={{\r\n\t\t\t\t\t\t\t\t\t\tname: this.state.found.name,\r\n\t\t\t\t\t\t\t\t\t\tcountry: this.state.found.country,\r\n\t\t\t\t\t\t\t\t\t\tid: this.state.found.id,\r\n\t\t\t\t\t\t\t\t\t\taction: this.props.callByCityId\r\n\t\t\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t\t: <li className={ this.state.found.cod === 404 ? null : 'hideElement'}><i>Nie znaleziono</i></li> ) }\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className={ Object.keys( this.state.history ).length > 1 ? null : 'hideElement' }>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<i>Ostatnio wyszukiwane:</i>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t{  Object.keys( this.state.history ).map((key) =>\r\n\t\t\t\t\t\t\t\t<LocalizationListElement \r\n\t\t\t\t\t\t\t\t\tproperties={{\r\n\t\t\t\t\t\t\t\t\t\tname: this.state.history[key].name,\r\n\t\t\t\t\t\t\t\t\t\tcountry: this.state.history[key].country,\r\n\t\t\t\t\t\t\t\t\t\tid: this.state.history[key].id,\r\n\t\t\t\t\t\t\t\t\t\taction: this.props.callByCityId\r\n\t\t\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass App extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tfetch:{\r\n\t\t\t\tapi: '5d33aafbe7cc14271bd32d9c75a32377',\r\n\t\t\t\tunits: 'metric',\r\n\t\t\t\tlang: 'pl',\r\n\t\t\t\turl: 'http://api.openweathermap.org/data/2.5/',\r\n\t\t\t\tcity: '7532248',\r\n\t\t\t\tposition: {\r\n\t\t\t\t\tlat: '51',\r\n\t\t\t\t\tlon: '16'\r\n\t\t\t\t},\r\n\t\t\t\tuseLocalization: false\r\n\t\t\t},\r\n\t\t\topenLocalizationSection: false,\r\n\t\t\tinterval: {\r\n\t\t\t\tactive: true,\r\n\t\t\t\tinterval: 2700000\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\tweather: {\r\n\t\t\t\t\tcod: '404',\r\n\t\t\t\t},\r\n\t\t\t\tforecast: {\r\n\t\t\t\t\tcod: '404',\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcolor: false\r\n\t\t}\r\n\t\tthis.toggleLocalizationSection = this.toggleLocalizationSection.bind(this);\r\n\t\tthis.callByLocalization = this.callByLocalization.bind(this);\r\n\t\tthis.callByCityId = this.callByCityId.bind(this);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.fetchForecast()\r\n\t\tthis.fetchWeather()\r\n\t\tif( this.state.interval.active ){\r\n\t\t\tconst timer = setInterval(\r\n\t\t\t\t() => this.refresh(),\r\n\t\t\t\t\tthis.state.interval.interval\r\n\t\t\t\t);\r\n\t\t\tthis.setState({\r\n\t\t\t\ttimer: timer\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\tif( this.state.timer ){\r\n\t\t\tclearInterval(this.state.timer);\r\n\t\t}\r\n\t}\r\n\trefresh(){\r\n\t\tthis.fetchForecast()\r\n\t\tthis.fetchWeather()\r\n\t}\r\n\ttoggleLocalizationSection(){\r\n\t\tthis.setState((state, props)=>{\r\n\t\t\treturn {\r\n\t\t\t\topenLocalizationSection: !this.state.openLocalizationSection\r\n\t\t\t};\r\n\t\t})\r\n\t}\r\n\tfetchData(type){\r\n\t\tconst url = \r\n\t\t\tthis.state.fetch.url + type + \r\n\t\t\t( this.state.fetch.useLocalization ? ( '?lat=' + this.state.fetch.position.lat + '&lon=' + this.state.fetch.position.lon ) : ( '?id=' + this.state.fetch.city ) ) + \r\n\t\t\t'&appid=' + this.state.fetch.api +\r\n\t\t\t'&units=' + this.state.fetch.units +\r\n\t\t\t'&lang=' + this.state.fetch.lang;\r\n\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\tfetch(url)\r\n\t\t\t\t.then(response => response.json())\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tresolve(data)\r\n\t\t\t\t} )\r\n\t\t\t\t.catch(error => { reject(404) })\r\n\t\t\t});\r\n\t}\r\n\tcallByCityId(e){\r\n\t\tconst value = e.target.value;\r\n\t\tthis.setState((state, props)=>{\r\n\t\t\tconst fetch = this.state.fetch;\r\n\t\t\treturn {\r\n\t\t\t\topenLocalizationSection: false,\r\n\t\t\t\tfetch: {\r\n\t\t\t\t\tuseLocalization: false,\r\n\t\t\t\t\tposition:{\r\n\t\t\t\t\t\tlat: fetch.position.lat,\r\n\t\t\t\t\t\tlon: fetch.position.lon\r\n\t\t\t\t\t},\r\n\t\t\t\t\tapi: fetch.api,\r\n\t\t\t\t\tunits: fetch.units,\r\n\t\t\t\t\turl: fetch.url,\r\n\t\t\t\t\tquery: fetch.query,\r\n\t\t\t\t\tcity: value,\r\n\t\t\t\t\tlang: fetch.lang\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}, ()=>{\r\n\t\t\tthis.fetchWeather()\r\n\t\t\tthis.fetchForecast()\r\n\t\t})\r\n\t}\r\n\tcallByLocalization(){\r\n\t\tif( navigator.geolocation ){\r\n\t\t\tnavigator.geolocation.getCurrentPosition(\r\n\t\t\t\t(position) => {\r\n\t\t\t\t\tconst fetch = this.state.fetch;\r\n\t\t\t\t\tthis.setState((state, props)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\topenLocalizationSection: false,\r\n\t\t\t\t\t\t\tfetch: {\r\n\t\t\t\t\t\t\t\tuseLocalization: true,\r\n\t\t\t\t\t\t\t\tposition:{\r\n\t\t\t\t\t\t\t\t\tlat: position.coords.latitude,\r\n\t\t\t\t\t\t\t\t\tlon: position.coords.longitude\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tapi: fetch.api,\r\n\t\t\t\t\t\t\t\tunits: fetch.units,\r\n\t\t\t\t\t\t\t\turl: fetch.url,\r\n\t\t\t\t\t\t\t\tquery: fetch.query,\r\n\t\t\t\t\t\t\t\tcity: fetch.city,\r\n\t\t\t\t\t\t\t\tlang: fetch.lang\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}, ()=>{\r\n\t\t\t\t\t\tthis.fetchWeather();\r\n\t\t\t\t\t\tthis.fetchForecast();\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\talert(error.message);\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t}else{\r\n\t\t\talert('Your browser is not supported.');\r\n\t\t\tconsole.log(\"Geolocation is not supported by this browser.\");\r\n\t\t}\r\n\t}\r\n\tfetchWeather(){\r\n\t\tthis.fetchData('weather').then(data => {\r\n\t\t\tif( String(data.cod) === '200' ){\r\n\t\t\t\tthis.setState((state, props)=>{\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tweather: data,\r\n\t\t\t\t\t\t\tforecast: this.state.data.forecast\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState((state, props)=>{\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tweather: {\r\n\t\t\t\t\t\t\t\tcod: ( data.cod ? String(data.cod) : '404' ),\r\n\t\t\t\t\t\t\t\tmessage: ( data.message ? data.message : 'błąd łączenia z serwerem' )\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tforecast: this.state.data.forecast\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tfetchForecast(){\r\n\t\tthis.fetchData('forecast').then(data => {\r\n\t\t\tif( String(data.cod) === '200' ){\r\n\t\t\t\tdata.list.map((element, index)=>{\r\n\t\t\t\t\tconst volume = ( element.rain ? element.rain['3h'] : 0 ) + ( element.snow ? element.snow['3h'] : 0 );\r\n\t\t\t\t\tdata.list[index].downfall = {\r\n\t\t\t\t\t\t'3h': ( volume > 0 ? volume : null )\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tconst groupBy = key => array =>\r\n\t\t\t\t\tarray.reduce((objectsByKeyValue, obj) => {\r\n\t\t\t\t\tconst value = obj[key].split(' ')[0].replace(/-/g, '');\r\n\t\t\t\t\tobjectsByKeyValue[value] = (objectsByKeyValue[value] || []).concat(obj);\r\n\t\t\t\t\treturn objectsByKeyValue;\r\n\t\t\t\t}, {});\r\n\t\t\t\tconst groupByDate = groupBy('dt_txt');\r\n\t\t\t\tdata.list = groupByDate(data.list);\r\n\t\t\t\tthis.setState((state, props)=>{\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tweather: this.state.data.weather,\r\n\t\t\t\t\t\t\tforecast: data\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState((state, props)=>{\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tweather: this.state.data.weather,\r\n\t\t\t\t\t\t\tforecast: {\r\n\t\t\t\t\t\t\t\tcod: ( data.cod ? String(data.cod) : '404' ),\r\n\t\t\t\t\t\t\t\tmessage: ( data.message ? data.message : 'błąd łączenia z serwerem' )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tsetColor(){\r\n\t\tthis.setState((state,props)=>{\r\n\t\t\treturn{\r\n\t\t\t\tcolor: !this.state.color\r\n\t\t\t}\r\n\t\t},()=>{\r\n\t\t\tsetColor(this.state.color);\r\n\t\t})\r\n\t}\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<main id=\"app\">\r\n\t\t\t\t<AppLocalization open={this.state.openLocalizationSection} callByLocalization={this.callByLocalization} callByCityId={this.callByCityId} data={this.state.fetch} />\r\n\t\t\t\t<WeatherApp data={this.state.data.weather} toggleSection={this.toggleLocalizationSection} openLocalization={this.state.openLocalizationSection} />\r\n\t\t\t\t<ForecastApp data={this.state.data.forecast} />\r\n\t\t\t\t<footer>\r\n\t\t\t\t\t<i>Powered by <a href='https://openweathermap.org' rel=\"nofollow license noopener noreferrer\" target='_blank'>OpenWeatherMap.org</a><b onClick={()=>{this.setColor()}}>.</b></i>\r\n\t\t\t\t</footer>\r\n\t\t\t</main>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './style.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n\t<App />, \r\n\tdocument.getElementById('root')\r\n)\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}